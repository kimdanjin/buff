const _0x141d3b=_0x1625;(function(_0x5732d3,_0x239818){const _0x5d9ed4=_0x1625,_0x52df35=_0x5732d3();while(!![]){try{const _0x4028c8=-parseInt(_0x5d9ed4('0x152'))/0x1+-parseInt(_0x5d9ed4('0x138'))/0x2+-parseInt(_0x5d9ed4('0x131'))/0x3+-parseInt(_0x5d9ed4('0x140'))/0x4*(-parseInt(_0x5d9ed4('0x149'))/0x5)+parseInt(_0x5d9ed4('0x14a'))/0x6*(parseInt(_0x5d9ed4('0x174'))/0x7)+parseInt(_0x5d9ed4('0x168'))/0x8+parseInt(_0x5d9ed4('0x133'))/0x9*(parseInt(_0x5d9ed4('0x16a'))/0xa);if(_0x4028c8===_0x239818)break;else _0x52df35['push'](_0x52df35['shift']());}catch(_0x31db0b){_0x52df35['push'](_0x52df35['shift']());}}}(_0x1636,0x2e975));const video=document[_0x141d3b('0x16b')](_0x141d3b('0x127')),canvas=document[_0x141d3b('0x16b')](_0x141d3b('0x130')),ctx=canvas['getContext']('2d'),alertSound=document[_0x141d3b('0x16b')](_0x141d3b('0x15b')),statusIndicator=document[_0x141d3b('0x16b')](_0x141d3b('0x163')),startBtn=document[_0x141d3b('0x16b')](_0x141d3b('0x15f')),selectTemplateBtn=document[_0x141d3b('0x16b')]('selectTemplateBtn'),templateGrid=document[_0x141d3b('0x16b')](_0x141d3b('0x148')),currentTemplateNameSpan=document['getElementById'](_0x141d3b('0x156')),roiWidthInput=document[_0x141d3b('0x16b')](_0x141d3b('0x159')),roiHeightInput=document[_0x141d3b('0x16b')](_0x141d3b('0x12a')),roiYInput=document['getElementById'](_0x141d3b('0x143')),matchThresholdInput=document[_0x141d3b('0x16b')](_0x141d3b('0x147')),MATCH_THRESHOLD_KEY=_0x141d3b('0x15a'),SELECTED_TEMPLATE_URL_KEY=_0x141d3b('0x124'),SELECTED_TEMPLATE_NAME_KEY=_0x141d3b('0x12b');let currentRoiWidth=parseInt(roiWidthInput[_0x141d3b('0x129')])||0x1c2,currentRoiHeight=parseInt(roiHeightInput[_0x141d3b('0x129')])||0x32,currentRoiY=parseInt(roiYInput[_0x141d3b('0x129')])||0x78,currentMatchThreshold=parseFloat(localStorage[_0x141d3b('0x12c')](MATCH_THRESHOLD_KEY))||parseFloat(matchThresholdInput['value'])||0.973;const DETECTION_INTERVAL=0x1f4;function _0x1636(){const _0x203096=['target','textContent','391370loLkwe','querySelector','getImageData','onload','rolw','üî¥\x20Í≥µÏú†\x20Ïïà\x20Îê®','toLocaleTimeString','style','toFixed','img[src=\x22','selectedTemplateUrl','getContext','‚ö†Ô∏è\x20Í≥µÏú†\x20Ïã§Ìå®','video','warn','value','roiHeightInput','selectedTemplateName','getItem','srcObject',']\x20ÌÅ¥Î¶≠Îêú\x20ÌÖúÌîåÎ¶ø\x20Îç∞Ïù¥ÌÑ∞:','display','canvas','735981OEERBx','load','13428oBpVEo','setItem','CV_32FC1',']\x20‚ùå\x20URLÏóê\x20Ìï¥ÎãπÌïòÎäî\x20ÌÖúÌîåÎ¶ø\x20Ïù¥ÎØ∏ÏßÄÎ•º\x20Ï∞æÏùÑ\x20Ïàò\x20ÏóÜÏäµÎãàÎã§:\x20','cols','62154eLLMIX','Mat','templateName','videoWidth','width','matchTemplate','closest','undefined','4edHVJw','naturalHeight','click','roiYInput',']\x20‚úÖ\x20ÌÖúÌîåÎ¶ø\x20Ïù¥ÎØ∏ÏßÄ\x20\x27',']\x20‚ö†Ô∏è\x20OpenCV\x20ÎòêÎäî\x20ÌÖúÌîåÎ¶øÏù¥\x20Ï§ÄÎπÑÎêòÏßÄ\x20ÏïäÏïòÏäµÎãàÎã§.','onloadedmetadata','matchThresholdInput','templateGrid','651380Nrgkoq','18CgoCQu','height','matFromImageData','error','delete',']\x20üü¢\x20ÌôîÎ©¥\x20Í≥µÏú†\x20ÏãúÏûë','none','.template-item','91069AeUfRV','removeItem','grid','mediaDevices','currentTemplateName','roly','play','roiWidthInput','matchThreshold','alertSound','currentTime','rows','minMaxLoc','startBtn','videoHeight',']\x20‚ùå\x20ÌÖúÌîåÎ¶ø\x20Ï¥àÍ∏∞Ìôî\x20Ïã§Ìå®:\x20',']\x20üî¥\x20ÌôîÎ©¥\x20Í≥µÏú†\x20Ï¢ÖÎ£åÎê®.\x20ÌÉêÏßÄ\x20Ï§ëÏßÄ.','status','addEventListener',']\x20Îß§Ïπ≠Ïú®:\x20','dataset','getVideoTracks','1986944SyESys','ended','80EFGxac','getElementById','change','.template-thumbnail','rolh','beforeunload','drawImage','log'];_0x1636=function(){return _0x203096;};return _0x1636();}let isOpenCVReady=![],isSharing=![],currentTemplateMat=null,resultMat=null,currentDetectionIntervalId=null;const waitForCV=setInterval(()=>{const _0x73cbf4=_0x141d3b;typeof cv!==_0x73cbf4('0x13f')&&cv[_0x73cbf4('0x14c')]&&(clearInterval(waitForCV),isOpenCVReady=!![],console[_0x73cbf4('0x171')]('['+new Date()[_0x73cbf4('0x120')]()+']\x20‚úÖ\x20OpenCV\x20Î°úÎî©\x20ÏôÑÎ£å'));},0x64);function _0x1625(_0x32010d,_0x7bf735){const _0x163676=_0x1636();return _0x1625=function(_0x162528,_0x36566e){_0x162528=_0x162528-0x11b;let _0x33cd37=_0x163676[_0x162528];return _0x33cd37;},_0x1625(_0x32010d,_0x7bf735);}async function loadTemplateImageFromUrl(_0x3bd021,_0xf2e551){const _0x409491=_0x141d3b,_0x37a6bc=document[_0x409491('0x11b')](_0x409491('0x123')+_0x3bd021+'\x22]');if(_0x37a6bc){const _0x3cd78f=_0x37a6bc[_0x409491('0x166')][_0x409491('0x11e')],_0x4cad44=_0x37a6bc[_0x409491('0x166')]['rolh'],_0x244db5=_0x37a6bc[_0x409491('0x166')][_0x409491('0x157')];await loadTemplateImage(_0x3bd021,_0xf2e551,_0x3cd78f,_0x4cad44,_0x244db5);}else console[_0x409491('0x14d')]('['+new Date()[_0x409491('0x120')]()+_0x409491('0x136')+_0x3bd021),currentTemplateNameSpan[_0x409491('0x173')]='ÏóÜÏùå',localStorage[_0x409491('0x153')](SELECTED_TEMPLATE_URL_KEY),localStorage[_0x409491('0x153')](SELECTED_TEMPLATE_NAME_KEY);}async function loadTemplateImage(_0x3b0126,_0x3be214,_0x1500be,_0x387ca6,_0x25caae){const _0x6cfbc9=_0x141d3b;try{const _0x36e621=new Image();_0x36e621['src']=_0x3b0126,await new Promise(_0x2c866a=>_0x36e621[_0x6cfbc9('0x11d')]=_0x2c866a);const _0x3a04c2=document['createElement']('canvas');_0x3a04c2[_0x6cfbc9('0x13c')]=_0x36e621['naturalWidth'],_0x3a04c2[_0x6cfbc9('0x14b')]=_0x36e621[_0x6cfbc9('0x141')];const _0x1ce560=_0x3a04c2[_0x6cfbc9('0x125')]('2d');_0x1ce560[_0x6cfbc9('0x170')](_0x36e621,0x0,0x0);const _0x3501ec=_0x1ce560[_0x6cfbc9('0x11c')](0x0,0x0,_0x3a04c2[_0x6cfbc9('0x13c')],_0x3a04c2[_0x6cfbc9('0x14b')]);currentTemplateMat&&currentTemplateMat[_0x6cfbc9('0x14e')]();currentTemplateMat=cv[_0x6cfbc9('0x14c')](_0x3501ec);if(resultMat)resultMat[_0x6cfbc9('0x14e')]();resultMat=new cv[(_0x6cfbc9('0x139'))](0x1,0x1,cv['CV_32FC1']),currentTemplateNameSpan['textContent']=_0x3be214,localStorage[_0x6cfbc9('0x134')](SELECTED_TEMPLATE_URL_KEY,_0x3b0126),localStorage[_0x6cfbc9('0x134')](SELECTED_TEMPLATE_NAME_KEY,_0x3be214),_0x1500be!==undefined&&(currentRoiWidth=parseInt(_0x1500be),roiWidthInput[_0x6cfbc9('0x129')]=currentRoiWidth),_0x387ca6!==undefined&&(currentRoiHeight=parseInt(_0x387ca6),roiHeightInput['value']=currentRoiHeight),_0x25caae!==undefined&&(currentRoiY=parseInt(_0x25caae),roiYInput['value']=currentRoiY),templateGrid['style'][_0x6cfbc9('0x12f')]=_0x6cfbc9('0x150'),console[_0x6cfbc9('0x171')]('['+new Date()[_0x6cfbc9('0x120')]()+_0x6cfbc9('0x144')+_0x3be214+'\x27\x20Ï¥àÍ∏∞Ìôî\x20ÏôÑÎ£å');}catch(_0x1f224a){console[_0x6cfbc9('0x14d')]('['+new Date()['toLocaleTimeString']()+_0x6cfbc9('0x161')+_0x3b0126,_0x1f224a);}}startBtn[_0x141d3b('0x164')](_0x141d3b('0x142'),async()=>{const _0x14a88c=_0x141d3b;if(!isOpenCVReady||!currentTemplateMat){console[_0x14a88c('0x128')]('['+new Date()[_0x14a88c('0x120')]()+_0x14a88c('0x145'));return;}try{const _0x40e6c8=await navigator[_0x14a88c('0x155')]['getDisplayMedia']({'video':!![]});video[_0x14a88c('0x12d')]=_0x40e6c8,isSharing=!![],statusIndicator[_0x14a88c('0x173')]='üü¢\x20ÌôîÎ©¥\x20Í≥µÏú†\x20Ï§ë',console[_0x14a88c('0x171')]('['+new Date()['toLocaleTimeString']()+_0x14a88c('0x14f')),_0x40e6c8[_0x14a88c('0x167')]()[0x0][_0x14a88c('0x164')](_0x14a88c('0x169'),()=>{const _0x4484cb=_0x14a88c;isSharing=![],statusIndicator[_0x4484cb('0x173')]=_0x4484cb('0x11f'),currentDetectionIntervalId&&(clearInterval(currentDetectionIntervalId),currentDetectionIntervalId=null,console['log']('['+new Date()['toLocaleTimeString']()+_0x4484cb('0x162')));}),video[_0x14a88c('0x146')]=()=>{currentDetectionIntervalId&&clearInterval(currentDetectionIntervalId),currentDetectionIntervalId=setInterval(()=>{isSharing&&detectImageOnScreen(currentRoiWidth,currentRoiHeight,currentRoiY,currentMatchThreshold,currentTemplateMat);},DETECTION_INTERVAL);};}catch(_0x198fef){statusIndicator[_0x14a88c('0x173')]=_0x14a88c('0x126'),console['error']('['+new Date()[_0x14a88c('0x120')]()+']\x20‚ùå\x20ÌôîÎ©¥\x20Í≥µÏú†\x20Ïã§Ìå®:',_0x198fef);}});function detectImageOnScreen(_0x5262cb,_0x10d739,_0x1bec51,_0x16a526,_0x263b36){const _0x4fdfe1=_0x141d3b;if(video['videoWidth']===0x0||video[_0x4fdfe1('0x160')]===0x0)return;const _0x17fbc6=video[_0x4fdfe1('0x13b')]-_0x5262cb,_0x386c7a=_0x1bec51;canvas[_0x4fdfe1('0x13c')]=_0x5262cb,canvas['height']=_0x10d739,ctx[_0x4fdfe1('0x170')](video,_0x17fbc6,_0x386c7a,_0x5262cb,_0x10d739,0x0,0x0,_0x5262cb,_0x10d739);const _0x3bf0f4=ctx[_0x4fdfe1('0x11c')](0x0,0x0,_0x5262cb,_0x10d739),_0x28cd90=cv['matFromImageData'](_0x3bf0f4),_0x33ed55=_0x28cd90[_0x4fdfe1('0x137')]-_0x263b36[_0x4fdfe1('0x137')]+0x1,_0x478208=_0x28cd90[_0x4fdfe1('0x15d')]-_0x263b36['rows']+0x1;if(_0x33ed55<=0x0||_0x478208<=0x0){console[_0x4fdfe1('0x128')]('['+new Date()[_0x4fdfe1('0x120')]()+']\x20‚ö†Ô∏è\x20ÌÖúÌîåÎ¶øÏù¥\x20ROIÎ≥¥Îã§\x20ÌÅΩÎãàÎã§.\x20Îã§Î•∏\x20ÌÖúÌîåÎ¶øÏùÑ\x20ÏÑ†ÌÉùÌïòÍ±∞ÎÇò\x20ROIÎ•º\x20ÌÅ¨Í≤å\x20ÏÑ§Ï†ïÌïòÏÑ∏Ïöî.'),_0x28cd90['delete']();return;}if(resultMat)resultMat[_0x4fdfe1('0x14e')]();resultMat=new cv['Mat'](_0x478208,_0x33ed55,cv[_0x4fdfe1('0x135')]),cv[_0x4fdfe1('0x13d')](_0x28cd90,_0x263b36,resultMat,cv['TM_CCOEFF_NORMED']);const {maxVal:_0x58d2e4}=cv[_0x4fdfe1('0x15e')](resultMat),_0x1e0735=_0x58d2e4>=_0x16a526;_0x58d2e4>=0.9&&console[_0x4fdfe1('0x171')]('['+new Date()['toLocaleTimeString']()+_0x4fdfe1('0x165')+(_0x58d2e4*0x64)[_0x4fdfe1('0x122')](0x2)+'%'),_0x1e0735&&(alertSound[_0x4fdfe1('0x15c')]=0x0,alertSound[_0x4fdfe1('0x158')](),console[_0x4fdfe1('0x171')]('['+new Date()[_0x4fdfe1('0x120')]()+']\x20üéØ\x20Îß§Ïπ≠\x20ÏÑ±Í≥µ\x20('+(_0x58d2e4*0x64)[_0x4fdfe1('0x122')](0x2)+'%)')),_0x28cd90[_0x4fdfe1('0x14e')]();}selectTemplateBtn[_0x141d3b('0x164')](_0x141d3b('0x142'),()=>{const _0x238582=_0x141d3b;templateGrid[_0x238582('0x121')][_0x238582('0x12f')]=templateGrid['style']['display']===_0x238582('0x150')?_0x238582('0x154'):'none';}),templateGrid[_0x141d3b('0x164')](_0x141d3b('0x142'),_0x4e18e8=>{const _0x4b44a5=_0x141d3b,_0x483f53=_0x4e18e8[_0x4b44a5('0x172')][_0x4b44a5('0x13e')](_0x4b44a5('0x151'));if(_0x483f53){const _0x543dac=_0x483f53[_0x4b44a5('0x11b')](_0x4b44a5('0x16d')),_0x974f3=_0x543dac['src'],_0x29583e=_0x543dac[_0x4b44a5('0x166')][_0x4b44a5('0x13a')],_0x40cbd8=_0x543dac[_0x4b44a5('0x166')][_0x4b44a5('0x11e')],_0x5299ea=_0x543dac['dataset'][_0x4b44a5('0x16e')],_0xb50b30=_0x543dac['dataset'][_0x4b44a5('0x157')];console[_0x4b44a5('0x171')]('['+new Date()[_0x4b44a5('0x120')]()+_0x4b44a5('0x12e'),{'templateName':_0x29583e,'rolw':_0x40cbd8,'rolh':_0x5299ea,'roly':_0xb50b30}),loadTemplateImage(_0x974f3,_0x29583e,_0x40cbd8,_0x5299ea,_0xb50b30);}}),window[_0x141d3b('0x164')](_0x141d3b('0x132'),()=>{const _0x5c46fa=_0x141d3b;roiWidthInput[_0x5c46fa('0x129')]=currentRoiWidth,roiHeightInput[_0x5c46fa('0x129')]=currentRoiHeight,roiYInput['value']=currentRoiY,matchThresholdInput[_0x5c46fa('0x129')]=currentMatchThreshold,localStorage[_0x5c46fa('0x12c')](MATCH_THRESHOLD_KEY)===null&&localStorage['setItem'](MATCH_THRESHOLD_KEY,currentMatchThreshold);}),roiWidthInput[_0x141d3b('0x164')](_0x141d3b('0x16c'),_0x13f488=>{const _0x42cf6c=_0x141d3b;currentRoiWidth=parseInt(_0x13f488[_0x42cf6c('0x172')][_0x42cf6c('0x129')]);}),roiHeightInput[_0x141d3b('0x164')](_0x141d3b('0x16c'),_0x57596d=>{const _0xc98002=_0x141d3b;currentRoiHeight=parseInt(_0x57596d[_0xc98002('0x172')][_0xc98002('0x129')]);}),roiYInput['addEventListener'](_0x141d3b('0x16c'),_0x48fb01=>{const _0x195ea8=_0x141d3b;currentRoiY=parseInt(_0x48fb01[_0x195ea8('0x172')]['value']);}),matchThresholdInput['addEventListener'](_0x141d3b('0x16c'),_0x76a0=>{const _0x30bcfe=_0x141d3b;currentMatchThreshold=parseFloat(_0x76a0[_0x30bcfe('0x172')][_0x30bcfe('0x129')]),localStorage['setItem'](MATCH_THRESHOLD_KEY,currentMatchThreshold);}),window[_0x141d3b('0x164')](_0x141d3b('0x16f'),()=>{const _0x43598c=_0x141d3b;currentTemplateMat?.['delete'](),resultMat?.['delete'](),console[_0x43598c('0x171')]('['+new Date()['toLocaleTimeString']()+']\x20üßπ\x20OpenCV\x20Mat\x20Í∞ùÏ≤¥\x20Î©îÎ™®Î¶¨\x20Ìï¥Ï†ú\x20ÏôÑÎ£å');});